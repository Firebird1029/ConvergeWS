mixin addPageHeader(title)
	section.hero.is-full-height
		.hero-body
			.container.has-text-centered
				if title
					h1.title.is-1(style="padding-top: 1rem;")= title

mixin addPageHeaderImage(title)
	section.hero.is-full-height
		.hero-body
			.container.has-text-centered
				if title
					figure.image
						img.pageHeaderImage(src="/assets/img/banners/" + title + ".png")

mixin icon(iconClasses, spanClasses)
	span.icon(class=spanClasses)
		i.fa(class=iconClasses)

mixin addTitle(title)
	if title
		h1.title.is-3= title

//- In Airtable, use % in a record to create a newline.
mixin addText(text)
	if text
		each paragraph in text.split("\n")
			p!= paragraph

mixin addSpan(text)
	if text
		span= text

//- Display image with proper attributes
mixin addImg(image, figureClasses)
	figure.image.has-text-centered-mobile(class=figureClasses)
		if image && image.url
			img(src=image.url, alt=image.alternativeText || '')
		else
			img

//- This changes the format of the Date string provided by Airtable into mm/dd/yy format.
mixin addDate(date, style)
	if date
		// Format ISO with time or plain yyyy-mm-dd as mm/dd/yyyy
		- var formatted = date;
		- if (typeof date === 'string') {
		-   if (date.match(/^\d{4}-\d{2}-\d{2}T/)) {
		-     var d = new Date(date);
		-     var mm = String(d.getMonth() + 1).padStart(2, '0');
		-     var dd = String(d.getDate()).padStart(2, '0');
		-     var yyyy = d.getFullYear();
		-     formatted = mm + '/' + dd + '/' + yyyy;
		-   } else if (date.match(/^\d{4}-\d{2}-\d{2}$/)) {
		-     var parts = date.split('-');
		-     formatted = parts[1] + '/' + parts[2] + '/' + parts[0];
		-   }
		- }
		case style
			when "span"
				span= formatted
			when "h4"
			default
				h4= formatted

mixin section(title)
	section.section
		.container
			.content
				+addTitle(title)
				block
